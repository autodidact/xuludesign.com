<html>
<head>
<style>
 #canvas {
        background-color:#fff;
        position: absolute;
        bottom: 0; 
        left: 0;
        width:100%;
        height: 250;
      }
</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="js/curves.js"></script>
</head>
<body>
<canvas id="canvas"></canvas>
<script type="application/javascript">

    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");

    var waves =   [
        "rgba(255, 121, 42, 0.3)",
        "rgba(255, 218, 71, 0.3)",
        "rgba(213, 254, 89, 0.3)",
        "rgba(131, 247, 255, 0.3)",
        "rgba(119, 214, 243, 0.3)",
        "rgba(80, 80, 198, 0.3)",
    ];

    var WIDTH = canvas.width;
    var HEIGHT = canvas.height;

function twitch() {
    for (var k = 0; k < waves.length; k++) {
        var wave = movingWaves[k]
        setInterval(function(w) {
            return function() {
                w.InsertImpulse(0, 5);
            }
        }(wave), 2000);
    }
}

function createWaves() {
    var grad = ctx.createLinearGradient(0, 0, 0, HEIGHT);
    for (var k = 0; k < waves.length; k++) {
        var stopy = k/waves.length;
        grad.addColorStop(stopy, waves[k]);
    }

    movingWaves = Array();

    var y = 0;
    for (var k = 0; k < waves.length; k++) {
        y = (k/waves.length) * HEIGHT + 30
        movingWaves[k] = new Wave(y, 20, grad)
    }
}

function draw() {
    canvas.width = canvas.width;
    //ctx.globalCompositeOperation='destination-over';
    
    for (var k = 0; k < waves.length; k++) {
        movingWaves[k].Draw(ctx)
    }
 };
//draw();
//rotateWheel();
createWaves();
//twitch();
setInterval(draw, 50);
</script>

</body>
</html>
